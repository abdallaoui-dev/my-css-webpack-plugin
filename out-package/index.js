!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var i in o)("object"==typeof exports?exports:e)[i]=o[i]}}(global,(function(){return function(){"use strict";var e={473:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.error=function(e,t){console.log("[31m[1m","".concat(e," Exception:\n"),String(t),"[0m")},e}();t.default=o},665:function(e,t,o){var i=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,r,n=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return a},r=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,r=0,n=t.length;r<n;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(o(147)),s=n(o(17)),u=o(354),l=n(o(293)),f=n(o(959)),c=n(o(473)),p=function(){function e(e){var t=this;this.name="MyCssWebpackPlugin",this.filePathNameCache=new Set,this.handleCompilationAssets=function(e,o){t.handleExternalCssFiles(e,o)},this.options=e}return e.prototype.apply=function(e){var t=this;e.hooks.compilation.tap(this.name,(function(o){o.hooks.processAssets.tap({name:t.name,stage:u.Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE},(function(){return t.handleCompilationAssets(e,o)}))}))},e.prototype.handleExternalCssFiles=function(e,t){var o=this,i=this.getFileModifiedFile(e);if(this.options.output&&this.options.output.path)if(!i||i.match(/(\.css|\.scss)$/)){var r=void 0===this.options.minify?"production"===e.options.mode:Boolean(this.options.minify),n=new l.default({className:this.name,pattern:"@?import"});for(var a in this.options.entry){var s=this.options.entry[a],u=n.bundle(s.filePathName),p=u.source;u.filePathNames.forEach((function(e){o.filePathNameCache.add(e),t.fileDependencies.add(e)}));try{p=f.default.compileString(p,{style:r?"compressed":"expanded",alertColor:!1}).css,this.output(this.options.output.path,s.outputFilename,p)}catch(e){var d=e;c.default.error(this.name,d)}}}else this.filePathNameCache.forEach((function(e){return t.fileDependencies.add(e)}));else c.default.error(this.name,"the output path is missing.")},e.prototype.output=function(e,t,o){try{var i=s.default.resolve(e,t.replace(/^[\\\/]/g,"")),r=s.default.dirname(i),n=s.default.relative(process.cwd(),r);a.default.existsSync(n)||a.default.mkdirSync(n,{recursive:!0}),a.default.writeFileSync(i,o)}catch(e){var u=e;c.default.error(this.name,u)}},e.prototype.getFileModifiedFile=function(e){var t=e.modifiedFiles;return t&&r([],i(t),!1)[0]||null},e}();t.default=p},293:function(e){e.exports=require("file-bundler")},959:function(e){e.exports=require("sass")},354:function(e){e.exports=require("webpack")},147:function(e){e.exports=require("fs")},17:function(e){e.exports=require("path")}},t={},o=function o(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}(665);return o.default}()}));