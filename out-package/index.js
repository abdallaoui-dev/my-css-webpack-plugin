!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var i in o)("object"==typeof exports?exports:e)[i]=o[i]}}(global,(function(){return function(){"use strict";var e={473:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.error=function(e,t){console.log("[31m[1m","".concat(e," Exception:\n"),String(t),"[0m")},e}();t.default=o},665:function(e,t,o){var i=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return s},n=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,r=t.length;n<r;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(o(147)),a=r(o(17)),u=o(354),l=r(o(293)),f=r(o(959)),c=r(o(473)),p=function(){function e(e){var t=this;this.name="MyCssWebpackPlugin",this.filePathNameCache=new Set,this.handleCompilationAssets=function(e,o){t.handleExternalCssFiles(e,o)},this.options=e}return e.prototype.apply=function(e){var t=this;e.hooks.compilation.tap(this.name,(function(o){o.hooks.processAssets.tap({name:t.name,stage:u.Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE},(function(){return t.handleCompilationAssets(e,o)}))}))},e.prototype.handleExternalCssFiles=function(e,t){var o=this,i=this.getFileModifiedFile(e);if(this.options.output&&this.options.output.path)if(!i||i.match(/(\.css|\.scss)$/)){var n=void 0===this.options.minify?"production"===e.options.mode:Boolean(this.options.minify),r=new l.default({className:this.name,pattern:"@?import"});for(var s in this.options.entry){var a=this.options.entry[s],u=r.bundle(a.filePathName),p=u.source,d=u.filePathNames;p=f.default.compileString(p,{style:n?"compressed":"expanded"}).css,d.forEach((function(e){o.filePathNameCache.add(e),t.fileDependencies.add(e)})),this.output(this.options.output.path,a.outputFilename,p)}}else this.filePathNameCache.forEach((function(e){return t.fileDependencies.add(e)}));else c.default.error(this.name,"the output path is missing.")},e.prototype.output=function(e,t,o){try{var i=a.default.resolve(e,t.replace(/^[\\\/]/g,"")),n=a.default.dirname(i),r=a.default.relative(process.cwd(),n);s.default.existsSync(r)||s.default.mkdirSync(r,{recursive:!0}),s.default.writeFileSync(i,o)}catch(e){var u=e;c.default.error(this.name,u)}},e.prototype.getFileModifiedFile=function(e){var t=e.modifiedFiles;return t&&n([],i(t),!1)[0]||null},e}();t.default=p},293:function(e){e.exports=require("file-bundler")},959:function(e){e.exports=require("sass")},354:function(e){e.exports=require("webpack")},147:function(e){e.exports=require("fs")},17:function(e){e.exports=require("path")}},t={},o=function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,o),r.exports}(665);return o.default}()}));